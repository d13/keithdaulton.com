{"version":3,"sources":["site.js"],"names":["window","document","$","_","mixpanel","con","undefined","assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn","console","location","href","indexOf","register_once","init visit","Date","toDateString","track","site version","track_links","referrer","Constants","classes","headerPinned","selectors","header","about","pinnedHeight","$windowEl","$bodyEl","$headerEl","$aboutEl","aboutEl","togglePinnedHeader","boundingRect","getBoundingClientRect","shouldToggle","top","Math","round","toggleClass","on","throttle","$navEl","scrollToSection","region","substring","lastIndexOf","length","$targetEl","targetEl","hash","stop","animate","scrollTop","offset","e","preventDefault","this","load","jQuery"],"mappings":"CAAA,SAAUA,EAAQC,EAAUC,EAAGC,EAAGC,IAE9B,SAAUC,GACMC,SAARD,IACAA,KACAA,EAAIE,OAASF,EAAIG,MAAQH,EAAII,MAAQJ,EAAIK,MAAQL,EAAIM,IAAMN,EAAIO,OAASP,EAAIQ,MAAQR,EAAIS,UACpFT,EAAIU,MAAQV,EAAIW,eAAiBX,EAAIY,SAAWZ,EAAIa,KAAOb,EAAIc,IAAMd,EAAIe,aAAef,EAAIgB,QACxFhB,EAAIiB,WAAajB,EAAIkB,MAAQlB,EAAImB,KAAOnB,EAAIoB,QAAUpB,EAAIqB,UAAYrB,EAAIsB,MAAQtB,EAAIuB,KAAO,eAE1G5B,EAAO6B,SAEV,SAAUC,GAC4C,KAA9CA,EAASC,KAAKC,QAAQ,sBAG1B5B,EAAS6B,eACLC,cAAc,GAAKC,OAAQC,iBAE/BhC,EAASiC,MAAM,eACXC,eAAgB,UAGpBlC,EAASmC,YAAY,wBAAyB,mBAC1CC,SAAYvC,EAASuC,WAEzBpC,EAASmC,YAAY,sBAAuB,sBACxCC,SAAYvC,EAASuC,aAE1BxC,EAAO8B,SAEV,IAAIW,IACAC,SACIC,aAAc,uBAElBC,WACIC,OAAQ,8BACRC,MAAO,8BAEXD,QACIE,aAAc,KAIlBC,EAAY9C,EAAEF,GAEdiD,GADc/C,EAAED,GACNC,EAAE,SACZgD,EAAYhD,EAAEuC,EAAUG,UAAUC,QAClCM,EAAWjD,EAAEuC,EAAUG,UAAUE,OACjCM,EAAUD,EAAS,GAEnBE,EAAqB,WACrB,GAAIC,GAAeF,EAAQG,wBACvBC,EAAgBF,EAAaG,IAAMC,KAAKC,MAAMlB,EAAUI,OAAOE,aAAe,EAClFG,GAAUU,YAAYnB,EAAUC,QAAQC,aAAca,GAG1DR,GAAUa,GAAG,SAAU1D,EAAE2D,SAAS,WAE9BT,KACD,MACHA,GAGA,IAAIU,GAAS7D,EAAE,4BACX8D,EAAkB,SAASC,GAC3B,GAAKA,EAAL,CAIIA,EAAOjC,QAAQ,KAAO,KACtBiC,EAASA,EAAOC,UAAUD,EAAOE,YAAY,KAAO,EAAEF,EAAOG,QAGjE,IAAIC,GAAYnE,EAAE,IAAM+D,EACxB,IAAKI,EAAUD,OAAf,CAIA,GAAIE,GAAWD,EAAU,IACrBrE,EAAO8B,SAASyC,OAAS,IAAMN,GAAmD,IAAzCK,EAASf,wBAAwBE,MAI9ER,EAAQuB,OAAOC,SAASC,UAAaL,EAAUM,SAASlB,KAAM,OAAQ,SAAS,WAC3EzD,EAAO8B,SAASyC,KAAON,MAI/BF,GAAOF,GAAG,QAAS,IAAK,SAASe,GAC7BA,EAAEC,iBACFb,EAAgBc,KAAK/C,QAGzBiB,EAAU+B,KAAK,eAKhB/E,OAAQC,SAAUD,OAAOgF,OAAQhF,OAAOG,EAAGH,OAAOI","file":"site.min.js","sourcesContent":["(function(window, document, $, _, mixpanel) {\n\n    (function(con) {\n        if (con === undefined) {\n            con = {};\n            con.assert = con.clear = con.count = con.debug = con.dir = con.dirxml = con.error = con.exception =\n                con.group = con.groupCollapsed = con.groupEnd = con.info = con.log = con.markTimeline = con.profile =\n                    con.profileEnd = con.table = con.time = con.timeEnd = con.timeStamp = con.trace = con.warn = function() { };\n        }\n    })(window.console);\n\n    (function(location) {\n        if (location.href.indexOf('keithdaulton.com') === -1) {\n            return;\n        }\n        mixpanel.register_once({\n            \"init visit\": (new Date()).toDateString()\n        });\n        mixpanel.track(\"site loaded\", {\n            \"site version\": \"3.0.0\"\n        });\n\n        mixpanel.track_links(\".section--portfolio a\", \"port link click\", {\n            \"referrer\": document.referrer\n        });\n        mixpanel.track_links(\".section--contact a\", \"contact link click\", {\n            \"referrer\": document.referrer\n        });\n    })(window.location);\n\n    var Constants = {\n        classes: {\n            headerPinned: 'page-header--pinned'\n        },\n        selectors: {\n            header: '[data-site-region=\"header\"]',\n            about: '[data-site-region=\"about\"]'\n        },\n        header: {\n            pinnedHeight: 75\n        }\n    };\n\n    var $windowEl = $(window);\n    var $documentEl = $(document);\n    var $bodyEl = $('body');\n    var $headerEl = $(Constants.selectors.header);\n    var $aboutEl = $(Constants.selectors.about);\n    var aboutEl = $aboutEl[0];\n\n    var togglePinnedHeader = function() {\n        var boundingRect = aboutEl.getBoundingClientRect();\n        var shouldToggle = (boundingRect.top < Math.round(Constants.header.pinnedHeight / 2));\n        $headerEl.toggleClass(Constants.classes.headerPinned, shouldToggle);\n    };\n\n    $windowEl.on('scroll', _.throttle(function() {\n        //console.count(\"scroll\");\n        togglePinnedHeader();\n    }, 200));\n    togglePinnedHeader();\n\n\n    var $navEl = $('[data-site-region=\"nav\"]');\n    var scrollToSection = function(region) {\n        if (!region) {\n            return;\n        }\n\n        if (region.indexOf('#') > -1) {\n            region = region.substring(region.lastIndexOf('#') + 1,region.length);\n        }\n\n        var $targetEl = $('#' + region);\n        if (!$targetEl.length) {\n            return;\n        }\n\n        var targetEl = $targetEl[0];\n        if (window.location.hash === '#' + region && targetEl.getBoundingClientRect().top === 0) {\n            return;\n        }\n\n        $bodyEl.stop().animate({'scrollTop': $targetEl.offset().top },'slow', 'linear',function () {\n            window.location.hash = region;\n        });\n\n    };\n    $navEl.on('click', 'a', function(e) {\n        e.preventDefault();\n        scrollToSection(this.href);\n    });\n\n    $windowEl.load(function() {\n        //scrollToSection(window.location.hash);\n    });\n\n\n})(window, document, window.jQuery, window._, window.mixpanel);"],"sourceRoot":"/source/"}